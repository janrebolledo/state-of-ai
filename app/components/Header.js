'use client';
import { useState, useEffect } from 'react';
import { usePathname, useRouter } from 'next/navigation';

export default function Header() {
  const pathname = usePathname();
  const router = useRouter();
  const [theme, setTheme] = useState(null);
  useEffect(() => {
    if (pathname === '/') {
      const localTheme = localStorage.getItem('theme');
      if (localTheme) {
        setTheme(localTheme);
        document.documentElement.dataset.theme = localTheme;
      } else {
        const prefersLightTheme = window.matchMedia(
          '(prefers-color-scheme: light)'
        );
        localStorage.setItem('theme', prefersLightTheme ? 'light' : 'dark');
        setTheme(prefersLightTheme ? 'light' : 'dark');
        document.documentElement.dataset.theme =
          theme === 'light' ? 'dark' : 'light';
      }
    }
  }, []);

  function toggleTheme() {
    if (pathname === '/') {
      setTheme(theme === 'light' ? 'dark' : 'light');
      localStorage.setItem('theme', theme === 'light' ? 'dark' : 'light');
      document.documentElement.dataset.theme =
        theme === 'light' ? 'dark' : 'light';
    } else {
      router.push('/');
    }
  }

  useEffect(() => {
    console.log(
      `%c${
        pathname === '/quiz' ? '🧑‍🚀 Hey, Astronaut' : 'Hi there'
      }!\n\n%cThis project was imagined by 8 students over the course of ~4 months, thanks for taking the time to poke around!\n\nWarmly,\n✦ Your Friends at School of Browser`,
      'font-weight: bold; font-size: 18px;',
      'font-size: 16px;'
    );
  }, []);
  return (
    <header className='w-full flex p-12 fixed z-20 top-0 pointer-events-none'>
      <Logo
        className='w-16 h-16 text-accent cursor-pointer pointer-events-auto relative'
        onClick={toggleTheme}
      />
    </header>
  );
}

function Logo(props) {
  return (
    <svg
      xmlns='http://www.w3.org/2000/svg'
      width={64}
      height={67}
      viewBox='0 0 64 67'
      fill='none'
      {...props}
    >
      <path
        d='M6.04188 21.7463L7.24483 22.1862L6.68914 23.7057L6.17208 23.5166L5.73975 23.7174L5.28053 24.9731L5.48133 25.4054L6.47323 25.7682L6.80855 25.6037L7.63436 23.3455L8.90357 22.721L11.109 23.5275L11.8614 25.1665L10.916 27.7518L9.28368 28.5187L7.94356 28.0286L8.49925 26.5091L9.18514 26.7599L9.6463 26.5457L10.1132 25.2689L9.89905 24.8078L8.79107 24.4026L8.45961 24.5565L7.63766 26.8041L6.30797 27.4305L4.23975 26.6741L3.50633 25.1139L4.47107 22.4758L6.04188 21.7463Z'
        fill='currentColor'
      />
      <path
        d='M9.38696 13.9841L11.1023 13.8114L12.456 14.9071L11.4451 16.1559L10.6591 15.5197L10.1851 15.5697L9.35092 16.6002L9.41956 17.1761L12.3627 19.5584L12.9719 19.5022L13.7777 18.5066C13.7524 18.3415 13.7428 18.1748 13.7245 18.0009L12.825 17.2728L13.8358 16.024L15.2768 17.1904L15.4649 18.976L13.8531 20.9672C13.1736 21.0388 12.4871 21.119 11.7988 21.1835L7.91257 18.0378L7.70454 16.0626L9.38696 13.9841Z'
        fill='currentColor'
      />
      <path
        d='M18.1265 6.97429L22.3115 13.6334L20.9416 14.4943L19.1301 11.6118L17.3893 12.7059L19.2008 15.5884L17.8404 16.4433L13.6554 9.78422L15.0158 8.92928L16.7077 11.6215L18.4486 10.5274L16.7566 7.8352L18.1265 6.97429Z'
        fill='currentColor'
      />
      <path
        d='M28.0508 5.07172L29.2319 10.1264L28.1956 11.7647L25.6245 12.3656L23.9803 11.3536L22.7991 6.29893L23.7801 4.71971L26.4715 4.09077L28.0508 5.07172ZM26.6287 6.09634L26.1723 5.82222L24.8047 6.1418L24.528 6.58722L25.4075 10.3509L25.8825 10.6553L27.2173 10.3434L27.5082 9.86001L26.6287 6.09634Z'
        fill='currentColor'
      />
      <path
        d='M37.6051 5.19139L37.1148 10.359L35.6106 11.5819L32.982 11.3325L31.7458 9.84957L32.2362 4.68192L33.669 3.49741L36.4206 3.75851L37.6051 5.19139ZM35.9308 5.70967L35.5855 5.30446L34.1873 5.17179L33.7832 5.50588L33.4181 9.35366L33.7713 9.79348L35.136 9.92297L35.5656 9.55745L35.9308 5.70967Z'
        fill='currentColor'
      />
      <path
        d='M43.7097 5.63921L41.2171 11.3797L44.2573 12.6998L43.6174 14.1736L39.0931 12.209L42.2256 4.99481L43.7097 5.63921Z'
        fill='currentColor'
      />
      <path
        d='M56.8548 17.7803L52.7798 20.9958L50.8565 20.7531L49.2209 18.6803L49.4391 16.762L53.5141 13.5465L55.3604 13.7642L57.0725 15.934L56.8548 17.7803ZM55.3234 16.9278L55.3778 16.3982L54.5078 15.2957L53.9871 15.2343L50.9529 17.6285L50.8789 18.1878L51.728 19.2639L52.2892 19.322L55.3234 16.9278Z'
        fill='currentColor'
      />
      <path
        d='M61.5793 25.6862L60.0588 26.2392L58.9183 23.1031L57.3133 23.6868L58.1543 25.9992L56.9822 26.4255L56.1413 24.113L53.0474 25.2381L52.4983 23.7282L59.8897 21.0402L61.5793 25.6862Z'
        fill='currentColor'
      />
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M28.4593 14.2391C28.0173 14.326 27.5752 14.4285 27.1336 14.5468C20.0665 16.4404 14.9196 21.923 13.1284 28.5081C13.1288 28.5067 13.1292 28.5053 13.1296 28.5039C14.9218 21.9207 20.0681 16.44 27.1336 14.5468C27.5752 14.4285 28.0173 14.326 28.4593 14.2391ZM12.8574 29.6334C12.2734 32.4133 12.2809 35.3587 12.9821 38.2922C12.9821 38.292 12.982 38.2918 12.982 38.2916C12.2813 35.3599 12.2735 32.4163 12.8565 29.6379C12.8568 29.6364 12.8571 29.6349 12.8574 29.6334ZM13.1004 38.7623C13.1059 38.7828 13.1113 38.8034 13.1169 38.8239C13.1239 38.8502 13.131 38.8765 13.1381 38.9027L13.1169 38.8239L13.1054 38.7807L13.1004 38.7623ZM14.2493 41.9718C14.9929 43.595 15.9402 45.0819 17.0513 46.4094C17.0505 46.4083 17.0496 46.4072 17.0487 46.4062C15.9387 45.0795 14.9923 43.5937 14.2493 41.9718ZM17.8062 47.2602C19.1527 48.6926 20.7008 49.9113 22.3914 50.8823C20.702 49.912 19.1548 48.6942 17.8089 47.2631C17.808 47.2621 17.8071 47.2612 17.8062 47.2602ZM38.5973 50.5287C38.2097 51.5965 37.7217 52.0864 37.2473 52.222L37.2126 52.2313C36.7339 52.3511 36.0664 52.1708 35.1968 51.4398C34.3336 50.7142 33.39 49.5395 32.4313 47.9732C31.7347 46.8349 31.0404 45.5068 30.3712 44.0247C30.3212 43.9142 30.3826 43.7853 30.4998 43.7539L38.822 41.524C38.9392 41.4926 39.0568 41.5735 39.0689 41.6942C39.2304 43.3123 39.2931 44.8097 39.2589 46.1437C39.2119 47.9795 38.982 49.4686 38.5973 50.5287ZM29.952 43.0683C29.9904 43.1586 30.0893 43.2064 30.1841 43.181L38.809 40.87C38.9038 40.8446 38.9655 40.7537 38.9537 40.6563C38.6516 38.1779 38.1304 35.4522 37.3841 32.619C37.3563 32.5135 37.248 32.4508 37.1426 32.479L27.4318 35.081C27.3264 35.1093 27.2639 35.2178 27.2926 35.3231C28.0629 38.1498 28.9744 40.7709 29.952 43.0683ZM39.6841 41.4664C39.6741 41.3697 39.7356 41.2792 39.8295 41.254L45.3404 39.7774C45.4735 39.7417 45.6011 39.8499 45.5862 39.9869C45.4092 41.609 45.0665 43.1385 44.5742 44.534C43.4847 47.6221 41.6809 50.016 39.3496 51.3511C39.1805 51.448 38.9891 51.2529 39.0654 51.0735C39.9054 49.0972 40.1176 45.6604 39.6841 41.4664ZM45.5341 39.068C45.6157 39.0461 45.6744 38.975 45.6796 38.8908C45.8402 36.2853 45.5843 33.4748 44.8495 30.6191C44.8223 30.5133 44.7138 30.4504 44.6082 30.4786L38.1373 32.2125C38.0322 32.2407 37.9697 32.3488 37.9975 32.4542C38.7357 35.256 39.2574 37.9601 39.5661 40.4338C39.581 40.553 39.6977 40.6319 39.8137 40.6008L45.5341 39.068ZM46.2568 39.6667C46.2644 39.584 46.3225 39.5142 46.4028 39.4927L50.5735 38.3752C50.7186 38.3363 50.8519 38.4674 50.8133 38.6126C49.6271 43.0685 46.8555 47.0108 42.9708 49.6216C42.7778 49.7514 42.5484 49.4672 42.6949 49.2866C44.6569 46.869 45.903 43.4957 46.2568 39.6667ZM50.9386 37.6198C51.0106 37.6006 51.0657 37.5424 51.0804 37.4694C51.6284 34.7492 51.5922 31.8694 50.87 29.0062C50.8433 28.9001 50.7346 28.8371 50.629 28.8654L45.603 30.2121C45.498 30.2402 45.4356 30.3482 45.4627 30.4535C46.1821 33.2465 46.4551 36.0048 46.3323 38.585C46.3259 38.7194 46.4519 38.8221 46.5819 38.7872L50.9386 37.6198ZM18.6593 47.2283C18.5532 47.1218 18.6031 46.9416 18.7483 46.9027L22.919 45.7852C22.9992 45.7637 23.0844 45.795 23.1323 45.8628C25.3533 49.002 28.119 51.3003 31.0269 52.413C31.2442 52.4962 31.1876 52.8569 30.9555 52.8411C26.2859 52.5224 21.9145 50.494 18.6593 47.2283ZM23.2443 44.9023C23.2909 44.9726 23.3773 45.0049 23.4588 44.983L29.1794 43.4502C29.2954 43.4191 29.357 43.2925 29.3103 43.1818C28.3408 40.8852 27.4406 38.2825 26.679 35.4869C26.6504 35.3819 26.5422 35.3194 26.437 35.3476L19.966 37.0815C19.8605 37.1098 19.798 37.2185 19.8273 37.3237C20.6188 40.1643 21.8025 42.7262 23.2443 44.9023ZM23.9813 45.5006C23.8482 45.5362 23.7918 45.6937 23.8732 45.8049C24.8375 47.1212 25.8991 48.2744 27.0232 49.2368C29.5108 51.3665 32.27 52.5378 34.9565 52.5283C35.1514 52.5276 35.2196 52.263 35.0639 52.1457C33.3483 50.8542 31.446 47.984 29.7245 44.1351C29.6848 44.0463 29.5863 43.9987 29.4924 44.0239L23.9813 45.5006ZM22.411 45.2638C22.5411 45.2289 22.5989 45.0771 22.5261 44.9638C21.1297 42.7907 19.9869 40.2654 19.2135 37.487C19.1843 37.3822 19.0763 37.3199 18.9712 37.348L13.9453 38.6947C13.8397 38.723 13.7771 38.832 13.807 38.9372C14.6131 41.7779 16.0217 44.29 17.8564 46.3717C17.9056 46.4276 17.9824 46.4504 18.0544 46.4311L22.411 45.2638ZM27.2708 34.4667C27.1649 34.4951 27.0561 34.4316 27.0289 34.3254C26.284 31.4174 25.7778 28.6315 25.5039 26.1204C25.4933 26.0239 25.555 25.9344 25.6488 25.9093L34.1009 23.6446C34.1947 23.6194 34.2928 23.6661 34.3319 23.7549C35.3502 26.0666 36.3048 28.7324 37.1137 31.6232C37.1432 31.7287 37.0807 31.8381 36.9749 31.8665L27.2708 34.4667ZM25.6492 25.2517C25.5309 25.2834 25.4126 25.2008 25.4021 25.0789C25.2833 23.695 25.2393 22.4071 25.2691 21.2435C25.3162 19.4077 25.5461 17.9186 25.9308 16.8586C26.3231 15.7778 26.8182 15.289 27.2981 15.1604C27.7779 15.0318 28.4511 15.2076 29.3312 15.9474C30.1945 16.673 31.1381 17.8477 32.0967 19.414C32.7044 20.4069 33.3102 21.5441 33.8992 22.8021C33.9511 22.9129 33.89 23.0436 33.7717 23.0753L25.6492 25.2517ZM29.4637 15.2411C29.308 15.1239 29.3765 14.8595 29.5714 14.8588C32.258 14.8493 35.0171 16.0207 37.5047 18.1503C38.4766 18.9824 39.4018 19.9572 40.2578 21.0567C40.3439 21.1673 40.2885 21.3291 40.1531 21.3654L34.7814 22.8047C34.6884 22.8296 34.5908 22.7832 34.5504 22.6959C32.8967 19.1266 31.0958 16.4695 29.4637 15.2411ZM40.7076 21.8743C40.7872 21.853 40.8716 21.8832 40.919 21.9506C42.4488 24.1273 43.716 26.7236 44.5738 29.622C44.6052 29.728 44.5427 29.8387 44.436 29.8673L37.9697 31.5999C37.865 31.628 37.7572 31.5662 37.728 31.4618C36.929 28.6044 35.9869 25.9578 34.9774 23.6455C34.929 23.5345 34.9904 23.4062 35.1074 23.3749L40.7076 21.8743ZM45.1896 29.4647C45.22 29.5679 45.3271 29.6285 45.431 29.6007L50.453 28.255C50.5603 28.2263 50.6228 28.1144 50.59 28.0082C49.6948 25.1158 48.1694 22.5782 46.2069 20.5068C46.1573 20.4546 46.0831 20.4339 46.0136 20.4526L41.7651 21.591C41.6329 21.6264 41.576 21.7822 41.6529 21.8953C43.1326 24.0725 44.3536 26.6316 45.1896 29.4647ZM33.572 14.5459C33.34 14.53 33.2835 14.8909 33.5007 14.974C36.2458 16.0244 38.864 18.1311 41.017 21.0043C41.0656 21.0692 41.1489 21.0985 41.2272 21.0776L45.2723 19.9937C45.4205 19.954 45.4684 19.7679 45.3561 19.6633C42.1616 16.6882 38.0009 14.848 33.572 14.5459ZM13.5505 37.9329C13.5751 38.0413 13.6852 38.1069 13.7926 38.0782L18.8145 36.7325C18.9184 36.7047 18.9808 36.5987 18.9556 36.4941C18.263 33.6226 18.0409 30.7958 18.2338 28.1704C18.2438 28.034 18.1166 27.9275 17.9844 27.963L13.7359 29.1013C13.6664 29.12 13.6124 29.1749 13.5957 29.2449C12.9317 32.0201 12.8795 34.9804 13.5505 37.9329ZM19.5675 36.3225C19.5933 36.4299 19.7028 36.4945 19.8095 36.4659L26.276 34.7332C26.3807 34.7052 26.4431 34.5978 26.4162 34.4929C25.6795 31.6187 25.172 28.8556 24.8901 26.3484C24.8766 26.228 24.7593 26.1476 24.6423 26.179L19.0419 27.6796C18.9623 27.7009 18.9043 27.7693 18.8969 27.8514C18.6604 30.5014 18.8612 33.3835 19.5675 36.3225ZM19.2676 26.9616C19.1323 26.9979 19.0034 26.8854 19.0226 26.7466C19.2142 25.3664 19.528 24.0596 19.9537 22.8531C21.0432 19.7649 22.8471 17.3709 25.1785 16.0358C25.3477 15.939 25.5392 16.1337 25.463 16.3131C24.6637 18.1929 24.4326 21.3945 24.7851 25.3125C24.7938 25.4083 24.7324 25.4973 24.6395 25.5222L19.2676 26.9616ZM14.1485 28.3333C14.0003 28.373 13.8658 28.2358 13.9107 28.0891C15.1897 23.9153 17.8728 20.2414 21.5572 17.7652C21.7503 17.6355 21.9796 17.9198 21.833 18.1004C19.981 20.3825 18.7669 23.5161 18.339 27.0809C18.3293 27.1614 18.2719 27.2284 18.1936 27.2494L14.1485 28.3333Z'
        fill='currentColor'
      />
      <path
        d='M13.8852 49.1773L12.3561 50.0748L11.5133 49.8554L11.2879 50.751L9.52986 51.7828L7.88251 51.3463L6.01226 48.1598L12.4218 44.3978L14.2975 47.5934L13.8852 49.1773ZM10.3711 49.147L9.59722 47.8284L8.09554 48.7098L8.85869 50.01L9.32367 50.1311L10.2576 49.5829L10.3711 49.147ZM12.6403 47.7905L11.8772 46.4902L10.6136 47.2319L11.3767 48.5321L11.8127 48.6456L12.5269 48.2264L12.6403 47.7905Z'
        fill='currentColor'
      />
      <path
        d='M18.7929 52.6094L19.1426 54.2006L18.0351 55.9498L16.4912 56.3043L15.8129 59.5191L14.5033 58.6899L15.1875 55.6046L14.5057 55.1729L12.9155 57.6846L11.6238 56.8668L15.5994 50.5875L18.7929 52.6094ZM17.3919 53.532L16.0733 52.6971L15.2043 54.0696L16.523 54.9044L16.9625 54.8057L17.4907 53.9715L17.3919 53.532Z'
        fill='currentColor'
      />
      <path
        d='M26.2638 57.2032L25.0066 61.9445L23.415 62.8516L21.0033 62.2121L20.0805 60.6383L21.3377 55.897L22.8568 55.0147L25.3814 55.6841L26.2638 57.2032ZM24.6227 57.4271L24.3636 56.9959L23.0807 56.6558L22.6523 56.9046L21.7162 60.435L21.9774 60.8997L23.2294 61.2316L23.6866 60.9574L24.6227 57.4271Z'
        fill='currentColor'
      />
      <path
        d='M37.8031 56.2268L36.7928 63.7281L35.0014 63.8297L33.5934 58.8795L32.733 63.9583L30.7613 64.0701L28.9943 56.7264L30.5101 56.6404L31.9043 61.9104L32.7998 56.5106L34.146 56.4342L35.678 61.6964L36.3932 56.3068L37.8031 56.2268Z'
        fill='currentColor'
      />
      <path
        d='M44.8403 54.6354L45.3772 55.7202L44.007 56.3983L43.7762 55.9321L43.3495 55.7879L42.2171 56.3483L42.0729 56.7751L42.5156 57.6695L42.8523 57.7754L44.8886 56.7675L46.1643 57.1668L47.1486 59.1556L46.596 60.7677L44.2647 61.9215L42.6477 61.3832L42.0496 60.1747L43.4198 59.4965L43.726 60.115L44.1812 60.2688L45.3325 59.699L45.4863 59.2438L44.9918 58.2447L44.6647 58.1341L42.6379 59.1372L41.3196 58.6998L40.3966 56.8347L40.9109 55.2889L43.2898 54.1115L44.8403 54.6354Z'
        fill='currentColor'
      />
      <path
        d='M50.1693 48.632L51.11 49.8372L48.6243 51.7775L49.5519 52.9659L51.276 51.6202L52.0012 52.5492L50.2771 53.8949L51.3223 55.234L53.8164 53.2872L54.7506 54.4841L51.0513 57.3716L46.4784 51.513L50.1693 48.632Z'
        fill='currentColor'
      />
      <path
        d='M52.5769 42.9256L54.1116 42.3792L55.9859 43.2588L56.5311 44.7461L59.8056 45.0161L59.147 46.4194L56.0002 46.1272L55.6574 46.8577L58.3487 48.1206L57.6991 49.5047L50.9711 46.3473L52.5769 42.9256ZM53.6677 44.1999L53.0047 45.6128L54.4752 46.3029L55.1383 44.89L54.9853 44.4663L54.0914 44.0468L53.6677 44.1999Z'
        fill='currentColor'
      />
      <g clipPath='url(#clip0_196_1148)'>
        <path
          id='star'
          d='M26.0954 23.3479C25.9069 23.2141 25.6807 23.1439 25.4496 23.1476C25.2185 23.1512 24.9945 23.2285 24.8104 23.3682C24.6262 23.5079 24.4915 23.7027 24.4257 23.9243C24.3598 24.1458 24.3665 24.3826 24.4445 24.6002L27.1006 32.0198L21.1631 36.5217C20.9778 36.6618 20.8423 36.8576 20.7764 37.0804C20.7106 37.3031 20.7179 37.5412 20.7973 37.7595C20.8767 37.9778 21.0241 38.1649 21.2177 38.2932C21.4112 38.4216 21.6409 38.4846 21.8729 38.4728L29.099 38.1155L31.61 45.134C31.6873 45.3477 31.8297 45.5319 32.0172 45.6604C32.2047 45.789 32.4277 45.8555 32.655 45.8505C32.8823 45.8455 33.1022 45.7694 33.2839 45.6328C33.4656 45.4962 33.5999 45.306 33.6678 45.0891L35.8801 37.9462L43.3502 37.7378C43.5781 37.7315 43.7982 37.6536 43.9793 37.5152C44.1605 37.3768 44.2935 37.1849 44.3595 36.9667C44.4255 36.7485 44.4212 36.5151 44.3472 36.2995C44.2732 36.0839 44.1332 35.8971 43.9471 35.7655L37.8606 31.4622L40.1484 24.5947C40.2221 24.3744 40.2231 24.1363 40.1514 23.9153C40.0797 23.6944 39.939 23.5022 39.7501 23.3671C39.5611 23.232 39.3338 23.161 39.1015 23.1646C38.8693 23.1683 38.6443 23.2462 38.4596 23.3872L32.5244 27.901L26.0954 23.3479Z'
        />
      </g>
      <defs>
        <clipPath id='clip0_196_1148'>
          <rect
            width={26.0646}
            height={26.0646}
            fill='white'
            transform='translate(13.7749 30.3856) rotate(-37.2123)'
          />
        </clipPath>
      </defs>
    </svg>
  );
}
